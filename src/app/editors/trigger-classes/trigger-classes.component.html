
<fieldset>
    <legend class="full-width"><span class="title">Class & Level</span><span class="spacer"></span><button mat-button (click)="addClassLevel()" color="accent"><mat-icon>add</mat-icon>New</button></legend>

    <p class="notice border-blue">
        <mat-icon class="material-icons-outlined color-blue">info</mat-icon><span>Some triggers only apply to specific classes.  If a class is in this list, this trigger will only activate for that class(es).  If they can be further restricted by level then include that information as well.  For example, Necromancers only get Blood of Thule at level 65.</span>
    </p>
    
    <p class="notice border-purple">
        <mat-icon class="material-icons-outlined color-purple">info</mat-icon><span>The level is only used for calculating focus decay and only the class is used to automatically disable/enable spell triggers.</span>
    </p>

    <br />

    <table mat-table #classesTable="matTable" *ngIf="classLevels?.length > 0"
        [dataSource]="classLevels">

        <ng-container matColumnDef="class">
            <th mat-header-cell *matHeaderCellDef> Character Class </th>
            <td mat-cell *matCellDef="let element; let i = index" style="padding-right:10px;">

                <mat-form-field style="width: 100%;">
                    <mat-label></mat-label>
                    <mat-select [(ngModel)]="element.class" name="ddlCharacterClass_{{i}}">
                        <mat-option value="BRD">Bard</mat-option>
                        <mat-option value="BST">Beastlord</mat-option>
                        <mat-option value="BER">Berserker</mat-option>
                        <mat-option value="CLR">Cleric</mat-option>
                        <mat-option value="DRU">Druid</mat-option>
                        <mat-option value="ENC">Enchanter</mat-option>
                        <mat-option value="MAG">Magician</mat-option>
                        <mat-option value="MNK">Monk</mat-option>
                        <mat-option value="NEC">Necromancer</mat-option>
                        <mat-option value="PAL">Paladin</mat-option>
                        <mat-option value="RNG">Ranger</mat-option>
                        <mat-option value="ROG">Rogue</mat-option>
                        <mat-option value="SHD">Shadowknight</mat-option>
                        <mat-option value="SHM">Shaman</mat-option>
                        <mat-option value="WAR">Warrior</mat-option>
                        <mat-option value="WIZ">Wizard</mat-option>
                    </mat-select>
                    <mat-hint>Character Class</mat-hint>
                </mat-form-field>

            </td>
        </ng-container>

        <ng-container matColumnDef="level">
            <th mat-header-cell *matHeaderCellDef style="width: 100px;"> Level </th>
            <td mat-cell *matCellDef="let element; let i = index">

                <mat-form-field style="width: 124px;">
                    <mat-label></mat-label>
                    <input matInput name="txtSpellLevel_{{i}}" type="number" [(ngModel)]="element.level" />
                    <mat-hint>Spell Level</mat-hint>
                </mat-form-field>

            </td>
        </ng-container>

        <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef style="text-align: center; width: 50px;">  </th>
            <td mat-cell *matCellDef="let element; let i = index">
                <button mat-icon-button color="warn" aria-label="Delete this condition." (click)="deleteClassLevel(i)">
                    <mat-icon>clear</mat-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="classesTableColumns"></tr>
        <tr mat-row *matRowDef="let element; columns: classesTableColumns;"></tr>

    </table>

</fieldset>

